{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-7efc\"],{\"0+6v\":function(t,a,e){\"use strict\";e.r(a);var n=e(\"7Qib\"),r=e(\"sZnh\"),i=e(\"x7dc\"),s={name:\"refreshDocList\",data:function(){return{tabMapOptions:[{label:\"China\",key:\"CN\"},{label:\"USA\",key:\"US\"},{label:\"Japan\",key:\"JP\"},{label:\"Eurozone\",key:\"EU\"}],loading:!1,activeName:\"CN\",createdTimes:0,pageData:{pageSize:100,pageIndex:1,totalCount:0,data:[]}}},created:function(){console.log(i.config.address+\"/static/running.gif\"),this.fetchList(),this.loadCount()},methods:{showCreatedTimes:function(){this.createdTimes=this.createdTimes+1},dateFormat:function(t,a){var e=t[a.property];return void 0==e?\"\":Object(n.e)(e,\"{y}-{m}-{d} {h}:{i}:{s}\")},loadCount:function(){var t=this;Object(r.f)().then(function(a){t.pageData.totalCount=a.data.totalCount})},fetchList:function(){var t=this;this.loading=!0;var a={offset:this.pageData.pageSize*(this.pageData.pageIndex-1),limit:this.pageData.pageSize};Object(r.b)(a).then(function(a){t.pageData.data=a.data.data,t.loading=!1;for(var e=0;e<a.data.data.length;e++){var n=a.data.data[e].task_status;\"2\"==n?t.pageData.data[e].task_status=i.config.address+\"/static/running.gif\":\"1\"==n&&(t.pageData.data[e].task_status=i.config.address+\"/static/ready.png\")}})},currentPageChanged:function(t){this.pageData.pageIndex=t,this.fetchList()},sizeChanged:function(t){this.pageData.pageSize=t,this.fetchList()}}},o=(e(\"efhr\"),e(\"ZrdR\")),c=Object(o.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"tab-container\"},[e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.pageData.data,border:\"true\",\"highlight-current-row\":\"\",fit:\"\"}},[e(\"el-table-column\",{attrs:{label:\"租户\",prop:\"tenant_id\",width:\"150px\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{label:\"对象名称\",prop:\"api_name\",width:\"300px\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{label:\"提交次数\",prop:\"commit_count\",width:\"100px\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{label:\"状态\",width:\"60px\",type:\"image\",prop:\"task_status\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[e(\"img\",{attrs:{src:t.row.task_status,width:\"30px\",height:\"30px\"}})]}}])}),t._v(\" \"),e(\"el-table-column\",{attrs:{formatter:t.dateFormat,label:\"创建时间\",prop:\"create_time\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{formatter:t.dateFormat,label:\"开始时间\",prop:\"start_time\"}})],1),t._v(\" \"),e(\"el-pagination\",{attrs:{\"current-page\":t.pageData.pageIndex,\"page-size\":t.pageData.pageSize,total:t.pageData.totalCount,layout:\"total, sizes, prev, pager, next, jumper\"},on:{\"current-change\":t.currentPageChanged,\"size-change\":t.sizeChanged}})],1)},[],!1,null,\"d97125a0\",null);c.options.__file=\"refreshDocList.vue\";a.default=c.exports},efhr:function(t,a,e){\"use strict\";var n=e(\"l+fc\");e.n(n).a},\"l+fc\":function(t,a,e){},sZnh:function(t,a,e){\"use strict\";e.d(a,\"b\",function(){return s}),e.d(a,\"f\",function(){return o}),e.d(a,\"d\",function(){return c}),e.d(a,\"c\",function(){return d}),e.d(a,\"e\",function(){return u}),e.d(a,\"a\",function(){return l});var n=e(\"f0Pt\"),r=e.n(n),i=e(\"x7dc\"),s=function(t){return r.a.get(i.config.address+\"/task/list\",{params:t})},o=function(t){return r.a.get(i.config.address+\"/task/totalCount\")},c=function(t){return r.a.post(i.config.address+\"/task/refresh/doc\",t)},d=function(t){return r.a.post(i.config.address+\"/task/refresh/auth\",t)},u=function(t){return r.a.get(i.config.address+\"/record/getRecord\",{params:t})},l=function(t){return r.a.get(i.config.address+\"/record/count\",{params:t})}},x7dc:function(t,a){t.exports={config:{address:\"http://172.31.101.246:30253/hubble-console\"}}}}]);","extractedComments":[]}